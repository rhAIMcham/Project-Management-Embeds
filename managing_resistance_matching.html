<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Matching activity</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:ital,wght@0,100..700;1,100..700&display=swap" rel="stylesheet">
    <style>
            :root {
        --AIMblue: #4353A3;
        --darkBlue: #38416D;
        --teal: #5DC8B9;
        --cream: #F1EEDE;
        --grey: #e7e9ec;
        --rust: #AF4510;
        --navy: #12195C;
        --white: #ffffff;
        --lightBlue: #AEBAE4;
    }
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
      font-family: "IBM Plex Sans", sans-serif;
            min-height: 90vh;
   padding: 30px 20px;
        }

    .container {
      max-width: 1400px;
      margin: 0 auto;
    }

    h1 {
      color: var(--darkBlue);
      text-align: center;
      margin-bottom: 30px;
      font-size: 2em;
      font-weight: 600;
    }

    .board {
      display: flex;
      gap: 20px;
      overflow-x: auto;
      padding-bottom: 20px;
      justify-content: space-around;
    }

    .column {
 background: linear-gradient(1deg,rgba(67, 83, 163, 0.5) 0%, rgba(174, 186, 228, 0.57) 100%);  border-radius: 8px;
      padding: 12px;
      min-width: 320px;
      max-width: 320px;
      flex-shrink: 0;
      height: fit-content;
    }
    .dragItems {
            width: 350px;
    background: rgb(206, 206, 206);
    padding: 20px;
    border-radius: 8px;
    height: fit-content;
    }

    .column-header {
      font-weight: 600;
      font-size: 1.1em;
      color: #172b4d;
      margin-bottom: 12px;
      padding: 8px 12px;
    }

    .cards-container {
      min-height: 100px;
      padding: 4px;
    }

    .card {
      background: white;
      border-radius: 6px;
      padding: 16px;
      margin-bottom: 10px;
      cursor: move;
      box-shadow: 0 1px 3px rgba(0,0,0,0.12);
      transition: transform 0.2s, box-shadow 0.2s;
    }

    .card:hover {
      box-shadow: 0 4px 8px rgba(0,0,0,0.15);
      transform: translateY(-2px);
    }

    .card.dragging {
      opacity: 0.5;
      transform: rotate(3deg);
    }

    .cards-container.drag-over {
      background: #d5dce4;
      border-radius: 6px;
    }

    .form-group {
      margin-bottom: 12px;
    }

    .form-group:last-child {
      margin-bottom: 0;
    }

    label {
      display: block;
      font-size: 0.85em;
      font-weight: 600;
      color: #5e6c84;
      margin-bottom: 4px;
    }

    select, input[type="text"], input[type="date"] {
      width: 100%;
      padding: 8px 10px;
      border: 2px solid #dfe1e6;
      border-radius: 4px;
      font-size: 0.95em;
      font-family: inherit;
      transition: border-color 0.2s;
    }

    select:focus, input:focus {
      outline: none;
      border-color: #0079bf;
    }

    .add-card-btn {
      width: 100%;
      padding: 10px;
      background: transparent;
      border: none;
      color: #5e6c84;
      cursor: pointer;
      border-radius: 6px;
      font-size: 0.95em;
      text-align: left;
      transition: background 0.2s;
    }

    .add-card-btn:hover {
      background: #d5dce4;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Sorting</h1>
    
    <div class="board">
      <div class="dragItems">
        <div class="column-header">Draggable Items</div>
        <div class="cards-container" data-column="dragItems">
            <div class="card" id="r1" draggable="true">
                <p>Management have told you two major stakeholders are against the project before it has begun.</p>
            </div>
            <div class="card"  id="r2" draggable="true">
                <p>A team member is expressing scepticism the project will succeed because they were in a previously unsuccessful project.</p>
            </div>
            <div class="card"  id="r3" draggable="true">
                <p>Rumours have spread about the project which has now created panic.</p>
            </div>

            <div class="card" id="m1" draggable="true">
                <p>Early engagement. The earlier stakeholders are involved, the less likely they are to resist.</p>
            </div>
            <div class="card"  id="m2" draggable="true">
                <p>Incremental wins. Delivering small, visible benefits early can reduce scepticism.</p>
            </div>
            <div class="card"  id="m3" draggable="true">
                <p>Transparency and communication: Addresses misunderstandings and prevents rumours from filling the gaps.</p>
            </div>
        </div>
      </div>

      <div class="column">
        <div class="column-header">Resistance scenario</div>
        <div class="cards-container" data-column="resistanceScenario"></div>
      </div>

      <div class="column">
        <div class="column-header">Management techniques</div>
        <div class="cards-container" data-column="managementTechniques"></div>
      </div>
    </div>
    <button onclick="checkAnswers()" id="submitBtn" disabled>Submit</button>
  </div>

   <script>
    let draggedCard = null;

    function initDragAndDrop() {
      const cards = document.querySelectorAll('.card');
      const containers = document.querySelectorAll('.cards-container');

      cards.forEach(card => {
        card.addEventListener('dragstart', handleDragStart);
        card.addEventListener('dragend', handleDragEnd);
      });

      containers.forEach(container => {
        container.addEventListener('dragover', handleDragOver);
        container.addEventListener('drop', handleDrop);
        container.addEventListener('dragleave', handleDragLeave);
        container.addEventListener('dragenter', handleDragEnter);
      });
    }

    function handleDragStart(e) {
      draggedCard = this;
      this.classList.add('dragging');
      e.dataTransfer.effectAllowed = 'move';
    }

    function handleDragEnd(e) {
      this.classList.remove('dragging');
      document.querySelectorAll('.cards-container').forEach(container => {
        container.classList.remove('drag-over');
      });
    }

    function handleDragOver(e) {
      e.preventDefault();
      e.dataTransfer.dropEffect = 'move';
      return false;
    }

    function handleDragEnter(e) {
      if (e.target.classList.contains('cards-container')) {
        e.target.classList.add('drag-over');
      }
    }

    function handleDragLeave(e) {
      if (e.target.classList.contains('cards-container')) {
        e.target.classList.remove('drag-over');
      }
    }

    function handleDrop(e) {
      e.preventDefault();
      e.stopPropagation();
      
      let dropZone = e.target;
      if (!dropZone.classList.contains('cards-container')) {
        dropZone = dropZone.closest('.cards-container');
      }
      
      if (dropZone && draggedCard) {
        dropZone.classList.remove('drag-over');
        dropZone.appendChild(draggedCard);
        checkIfAllDragged();
      }
      
      return false;
    }

    function checkIfAllDragged() {
      const dragItemsContainer = document.querySelector('[data-column="dragItems"]');
      const remainingCards = dragItemsContainer.querySelectorAll('.card');
      const submitBtn = document.getElementById('submitBtn');
      
      if (remainingCards.length === 0) {
        submitBtn.disabled = false;
        submitBtn.style.opacity = '1';
        submitBtn.style.cursor = 'pointer';
      }
    }

    function checkAnswers() {
      // Define correct answers
      const correctAnswers = {
        resistanceScenario: ['r1', 'r2', 'r3'],
        managementTechniques: ['m1', 'm2', 'm3']
      };

      let allCorrect = true;
      let results = {
        resistanceScenario: { correct: 0, total: 3 },
        managementTechniques: { correct: 0, total: 3 }
      };

      // Check resistanceScenario group column
      const resistanceScenarioContainer = document.querySelector('[data-column="resistanceScenario"]');
      const resistanceScenarioCards = resistanceScenarioContainer.querySelectorAll('.card');
      resistanceScenarioCards.forEach(card => {
        if (correctAnswers.resistanceScenario.includes(card.id)) {
          results.resistanceScenario.correct++;
          card.style.border = '3px solid #0f7c2e';
        } else {
          allCorrect = false;
          card.style.border = '3px solid #d32f2f';
        }
      });

      // Check communication tools column
      const managementTechniquesContainer = document.querySelector('[data-column="managementTechniques"]');
      const managementTechniquesCards = managementTechniquesContainer.querySelectorAll('.card');
      managementTechniquesCards.forEach(card => {
        if (correctAnswers.managementTechniques.includes(card.id)) {
          results.managementTechniques.correct++;
          card.style.border = '3px solid #0f7c2e';
        } else {
          allCorrect = false;
          card.style.border = '3px solid #d32f2f';
        }
      });

      // Display results
      if (allCorrect && resistanceScenarioCards.length === 3 && managementTechniquesCards.length === 3) {
        alert('ðŸŽ‰ Perfect! All cards are in the correct columns!');
      } else {
        let message = 'Results:\n\n';
        message += `Stakeholder Group: ${results.resistanceScenario.correct}/${results.resistanceScenario.total} correct\n`;
        message += `Communication Tools: ${results.managementTechniques.correct}/${results.managementTechniques.total} correct\n\n`;
        message += 'Green border = correct, Red border = incorrect';
        alert(message);
      }
    }

    // Initialize on page load
    initDragAndDrop();
  </script>
</body>
</html>